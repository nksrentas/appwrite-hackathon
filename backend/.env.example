# EcoTrace Backend Environment Configuration
# Copy this file to .env and fill in your API keys and configuration values

# ===== DATABASE CONFIGURATION =====
DATABASE_URL="your-database-url-here"
DATABASE_NAME="ecotrace"

# ===== SERVER CONFIGURATION =====
PORT=3004
NODE_ENV=development
CORS_ORIGIN="http://localhost:3000"

# ===== APPWRITE CONFIGURATION =====
APPWRITE_PROJECT_ID="your-appwrite-project-id"
APPWRITE_API_KEY="your-appwrite-api-key"
APPWRITE_ENDPOINT="https://cloud.appwrite.io/v1"

# ===== GITHUB INTEGRATION =====
# GitHub OAuth App Configuration
GITHUB_CLIENT_ID="your-github-oauth-client-id"
GITHUB_CLIENT_SECRET="your-github-oauth-client-secret"
GITHUB_OAUTH_REDIRECT_URI="http://localhost:3000/auth/github/callback"
# OAuth redirect URI for handling GitHub authentication callback

# GitHub App Configuration (for advanced features)
GITHUB_APP_ID="your-github-app-id"
GITHUB_PRIVATE_KEY="your-github-private-key"
GITHUB_WEBHOOK_SECRET="your-github-webhook-secret"

# GitHub Integration Security
GITHUB_ENCRYPTION_KEY="your-32-character-minimum-encryption-key-for-tokens"
# Must be at least 32 characters for secure token encryption

# Webhook Configuration
WEBHOOK_BASE_URL="https://your-domain.com"
# Base URL for webhook endpoints (e.g., https://api.ecotrace.app)

# ===== CARBON CALCULATION API KEYS =====
# EPA eGRID Database Integration
EPA_EGRID_API_KEY="your-epa-egrid-api-key"
# Optional: EPA provides public data, API key improves rate limits

# AWS Carbon Footprint API (Customer Carbon Footprint Tool)
AWS_CARBON_API_KEY="your-aws-carbon-footprint-api-key"
# Required for real AWS carbon intensity data
# Get from: https://sustainability.aboutamazon.com/carbon-footprint-tool

# Electricity Maps API (Real-time carbon intensity of electricity)
ELECTRICITY_MAPS_API_KEY="your-electricity-maps-api-key"
# Required for real-time grid carbon intensity
# Get from: https://api.electricitymap.org/

# Green Software Foundation API
GSF_API_KEY="your-green-software-foundation-api-key"
# Optional: For SCI methodology compliance validation
# Get from: https://greensoftware.foundation/

# ===== EXTERNAL VALIDATION APIs =====
# Carbon Interface API (Cross-validation)
CARBON_INTERFACE_API_KEY="your-carbon-interface-api-key"
# Get from: https://www.carboninterface.com/

# Climatiq API (Cross-validation)
CLIMATIQ_API_KEY="your-climatiq-api-key"
# Get from: https://www.climatiq.io/

# ===== REDIS CONFIGURATION (OPTIONAL) =====
# For enhanced caching performance
REDIS_URL="redis://localhost:6379"
REDIS_PASSWORD="your-redis-password"
# Leave empty to use in-memory caching only

# ===== LOGGING CONFIGURATION =====
LOG_LEVEL="info"
# Options: error, warn, info, debug

# ===== RATE LIMITING =====
RATE_LIMIT_WINDOW_MS=900000
# 15 minutes in milliseconds
RATE_LIMIT_MAX_REQUESTS=1000
# Maximum requests per window

# ===== SECURITY CONFIGURATION =====
JWT_SECRET="your-super-secure-jwt-secret-here-minimum-32-characters"
ENCRYPTION_KEY="your-32-character-encryption-key-here"
SESSION_SECRET="your-session-secret-here"

# ===== WEBHOOK CONFIGURATION =====
WEBHOOK_SECRET="your-webhook-secret"
# For securing incoming webhooks

# ===== FEATURE FLAGS =====
ENABLE_REAL_TIME_UPDATES=true
ENABLE_CROSS_VALIDATION=true
ENABLE_SCI_COMPLIANCE=true
ENABLE_GEOGRAPHIC_MAPPING=true
ENABLE_EXTERNAL_APIS=true

# ===== CARBON CALCULATION CONFIGURATION =====
CONSERVATIVE_BIAS_FACTOR=1.15
# Conservative estimation multiplier (15% higher than calculated)

CACHE_TTL_SECONDS=3600
# Cache time-to-live in seconds (1 hour)

VALIDATION_THRESHOLD_PERCENT=25
# Maximum variance allowed in cross-validation (%)

DATA_FRESHNESS_HOURS=24
# Maximum age for emission factor data (hours)

# ===== API TIMEOUTS (milliseconds) =====
EXTERNAL_API_TIMEOUT=10000
# Timeout for external API calls (10 seconds)

VALIDATION_TIMEOUT=5000
# Timeout for validation requests (5 seconds)

DATABASE_TIMEOUT=30000
# Database query timeout (30 seconds)